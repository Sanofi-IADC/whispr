(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{413:function(t,s,e){"use strict";e.r(s);var a=e(54),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" Plugins")]),t._v(" "),e("h2",{attrs:{id:"create-a-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-a-plugin"}},[t._v("#")]),t._v(" Create a plugin")]),t._v(" "),e("p",[t._v("Create a new repository and clone it to you computer.")]),t._v(" "),e("p",[t._v("Publish this repository to npm by following npm's documentation:\n"),e("a",{attrs:{href:"https://docs.npmjs.com/creating-node-js-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.npmjs.com/creating-node-js-modules"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"add-your-plugin-to-whispr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#add-your-plugin-to-whispr"}},[t._v("#")]),t._v(" Add your plugin to whispr")]),t._v(" "),e("ul",[e("li",[t._v("Add the package of your plugin:")])]),t._v(" "),e("div",{staticClass:"language-shell script extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" your-plugin --save\n")])])]),e("ul",[e("li",[t._v("Add the name of your plugin in the plugins enum of the "),e("code",[t._v("src/event/event.service.ts")]),t._v(" file:")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pluginNames "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'your-plugin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"make-your-plugin-register-listeners"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#make-your-plugin-register-listeners"}},[t._v("#")]),t._v(" Make your plugin register listeners")]),t._v(" "),e("p",[t._v("In your plugin's "),e("code",[t._v("index.js")]),t._v(" file, export a "),e("code",[t._v("listeners")]),t._v(" property that is an array of\nlisteners.")]),t._v(" "),e("p",[t._v("Those listeners must have the following properties:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("callback")]),t._v(": a function that has the signature of the "),e("code",[t._v("ListenerCallback")]),t._v("\ntype in the "),e("code",[t._v("src/interfaces/listener.interface.ts")]),t._v(" file.")]),t._v(" "),e("li",[e("code",[t._v("eventName")]),t._v(": one of the EventNames registered in the enum of the "),e("code",[t._v("event.entity.ts")]),t._v(" file.")]),t._v(" "),e("li",[e("code",[t._v("filter")]),t._v(": allows you to filter on the event if you want your callback\nto be called only for events of a specific payload. See "),e("a",{attrs:{href:"../filters"}},[t._v("filters documentation")]),t._v(".")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n\n    module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("listeners "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("callback")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* your code */")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        eventName"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'WHISP_CREATED'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        filter"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other listeners")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);